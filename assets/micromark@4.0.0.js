/* esm.sh - esbuild bundle(micromark@4.0.0) es2022 production */
var oe=Object.defineProperty;var ae=(n,r)=>{for(var t in r)oe(n,t,{get:r[t],enumerable:!0})};var ct=document.createElement("i");function In(n){let r="&"+n+";";ct.innerHTML=r;let t=ct.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===r?!1:t}function Q(n,r,t,e){let u=n.length,i=0,o;if(r<0?r=-r>u?0:u+r:r=r>u?u:r,t=t>0?t:0,e.length<1e4)o=Array.from(e),o.unshift(r,t),n.splice(...o);else for(t&&n.splice(r,t);i<e.length;)o=e.slice(i,i+1e4),o.unshift(r,0),n.splice(...o),i+=1e4,r+=1e4}function H(n,r){return n.length>0?(Q(n,n.length,0,r),n):r}var qn={}.hasOwnProperty;function mt(n){let r={},t=-1;for(;++t<n.length;)le(r,n[t]);return r}function le(n,r){let t;for(t in r){let u=(qn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],o;if(i)for(o in i){qn.call(u,o)||(u[o]=[]);let a=i[o];se(u[o],Array.isArray(a)?a:a?[a]:[])}}}function se(n,r){let t=-1,e=[];for(;++t<r.length;)(r[t].add==="after"?n:e).push(r[t]);Q(n,0,0,e)}function pt(n){let r={},t=-1;for(;++t<n.length;)ce(r,n[t]);return r}function ce(n,r){let t;for(t in r){let u=(qn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],o;if(i)for(o in i)u[o]=i[o]}}function ft(n,r){let t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}var me={'"':"quot","&":"amp","<":"lt",">":"gt"};function Ln(n){return n.replace(/["&<>]/g,r);function r(t){return"&"+me[t]+";"}}function on(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var pe=an(/\p{P}/u),Y=an(/[A-Za-z]/),N=an(/[\dA-Za-z]/),ht=an(/[#-'*+\--9=?A-Z^-~]/);function dn(n){return n!==null&&(n<32||n===127)}var Sn=an(/\d/),xt=an(/[\dA-Fa-f]/),Hn=an(/[!-/:-@[-`{-~]/);function b(n){return n!==null&&n<-2}function D(n){return n!==null&&(n<0||n===32)}function I(n){return n===-2||n===-1||n===32}function gt(n){return Hn(n)||pe(n)}var kt=an(/\s/);function an(n){return r;function r(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function bn(n,r){let t=Ln(fe(n||""));if(!r)return t;let e=t.indexOf(":"),u=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e<0||o>-1&&e>o||u>-1&&e>u||i>-1&&e>i||r.test(t.slice(0,e))?t:""}function fe(n){let r=[],t=-1,e=0,u=0;for(;++t<n.length;){let i=n.charCodeAt(t),o="";if(i===37&&N(n.charCodeAt(t+1))&&N(n.charCodeAt(t+2)))u=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){let a=n.charCodeAt(t+1);i<56320&&a>56319&&a<57344?(o=String.fromCharCode(i,a),u=1):o="\uFFFD"}else o=String.fromCharCode(i);o&&(r.push(n.slice(e,t),encodeURIComponent(o)),e=t+u+1,o=""),u&&(t+=u,u=0)}return r.join("")+n.slice(e)}var dt={}.hasOwnProperty,St=/^(https?|ircs?|mailto|xmpp)$/i,he=/^https?$/i;function jn(n){let r=n||{},t=!0,e={},u=[[]],i=[],o=[],h=pt([{enter:{blockQuote:F,codeFenced:v,codeFencedFenceInfo:O,codeFencedFenceMeta:O,codeIndented:en,codeText:Xt,content:jt,definition:Pt,definitionDestinationString:Dt,definitionLabelString:O,definitionTitleString:O,emphasis:Jt,htmlFlow:Gt,htmlText:ut,image:$,label:O,link:pn,listItemMarker:G,listItemValue:W,listOrdered:R,listUnordered:q,paragraph:j,reference:O,resource:gn,resourceDestinationString:rn,resourceTitleString:O,setextHeading:Vt,strong:Kt},exit:{atxHeading:Wt,atxHeadingSequence:Nt,autolinkEmail:ue,autolinkProtocol:ie,blockQuote:M,characterEscapeValue:kn,characterReferenceMarkerHexadecimal:ot,characterReferenceMarkerNumeric:ot,characterReferenceValue:re,codeFenced:s,codeFencedFence:J,codeFencedFenceInfo:l,codeFencedFenceMeta:_,codeFlowValue:Yt,codeIndented:s,codeText:vt,codeTextData:kn,data:kn,definition:Ht,definitionDestinationString:Rt,definitionLabelString:Mt,definitionTitleString:qt,emphasis:ne,hardBreakEscape:rt,hardBreakTrailing:rt,htmlFlow:it,htmlFlowData:kn,htmlText:it,htmlTextData:kn,image:Cn,label:zn,labelText:Rn,lineEnding:$t,link:Cn,listOrdered:P,listUnordered:z,paragraph:K,reference:_,referenceString:V,resource:_,resourceDestinationString:fn,resourceTitleString:hn,setextHeading:Zt,setextHeadingLineSequence:Ut,setextHeadingText:Qt,strong:te,thematicBreak:ee}}].concat(r.htmlExtensions||[])),p={tightStack:o,definitions:e},m={lineEndingIfNeeded:T,options:r,encode:g,raw:S,tag:E,buffer:O,resume:d,setData:w,getData:C},x=r.defaultLineEnding;return f;function f(k){let y=-1,Z=0,X=[],nn=[],un=[];for(;++y<k.length;)!x&&(k[y][1].type==="lineEnding"||k[y][1].type==="lineEndingBlank")&&(x=k[y][2].sliceSerialize(k[y][1])),(k[y][1].type==="listOrdered"||k[y][1].type==="listUnordered")&&(k[y][0]==="enter"?X.push(y):c(k.slice(X.pop(),y))),k[y][1].type==="definition"&&(k[y][0]==="enter"?(un=H(un,k.slice(Z,y)),Z=y):(nn=H(nn,k.slice(Z,y+1)),Z=y+1));nn=H(nn,un),nn=H(nn,k.slice(Z)),y=-1;let tn=nn;for(h.enter.null&&h.enter.null.call(m);++y<k.length;){let at=h[tn[y][0]],lt=tn[y][1].type,st=at[lt];dt.call(at,lt)&&st&&st.call(Object.assign({sliceSerialize:tn[y][2].sliceSerialize},m),tn[y][1])}return h.exit.null&&h.exit.null.call(m),u[0].join("")}function c(k){let y=k.length,Z=0,X=0,nn=!1,un;for(;++Z<y;){let tn=k[Z];if(tn[1]._container)un=void 0,tn[0]==="enter"?X++:X--;else switch(tn[1].type){case"listItemPrefix":{tn[0]==="exit"&&(un=!0);break}case"linePrefix":break;case"lineEndingBlank":{tn[0]==="enter"&&!X&&(un?un=void 0:nn=!0);break}default:un=void 0}}k[0][1]._loose=nn}function w(k,y){p[k]=y}function C(k){return p[k]}function O(){u.push([])}function d(){return u.pop().join("")}function E(k){t&&(w("lastWasTag",!0),u[u.length-1].push(k))}function S(k){w("lastWasTag"),u[u.length-1].push(k)}function B(){S(x||`
`)}function T(){let k=u[u.length-1],y=k[k.length-1],Z=y?y.charCodeAt(y.length-1):null;Z===10||Z===13||Z===null||B()}function g(k){return C("ignoreEncode")?k:Ln(k)}function _(){d()}function R(k){o.push(!k._loose),T(),E("<ol"),w("expectFirstItem",!0)}function q(k){o.push(!k._loose),T(),E("<ul"),w("expectFirstItem",!0)}function W(k){if(C("expectFirstItem")){let y=Number.parseInt(this.sliceSerialize(k),10);y!==1&&E(' start="'+g(String(y))+'"')}}function G(){C("expectFirstItem")?E(">"):A(),T(),E("<li>"),w("expectFirstItem"),w("lastWasTag")}function P(){A(),o.pop(),B(),E("</ol>")}function z(){A(),o.pop(),B(),E("</ul>")}function A(){C("lastWasTag")&&!C("slurpAllLineEndings")&&T(),E("</li>"),w("slurpAllLineEndings")}function F(){o.push(!1),T(),E("<blockquote>")}function M(){o.pop(),T(),E("</blockquote>"),w("slurpAllLineEndings")}function j(){o[o.length-1]||(T(),E("<p>")),w("slurpAllLineEndings")}function K(){o[o.length-1]?w("slurpAllLineEndings",!0):E("</p>")}function v(){T(),E("<pre><code"),w("fencesCount",0)}function l(){let k=d();E(' class="language-'+k+'"')}function J(){let k=C("fencesCount")||0;k||(E(">"),w("slurpOneLineEnding",!0)),w("fencesCount",k+1)}function en(){T(),E("<pre><code>")}function s(){let k=C("fencesCount");k!==void 0&&k<2&&p.tightStack.length>0&&!C("lastWasTag")&&B(),C("flowCodeSeenData")&&T(),E("</code></pre>"),k!==void 0&&k<2&&T(),w("flowCodeSeenData"),w("fencesCount"),w("slurpOneLineEnding")}function $(){i.push({image:!0}),t=void 0}function pn(){i.push({})}function Rn(k){i[i.length-1].labelId=this.sliceSerialize(k)}function zn(){i[i.length-1].label=d()}function V(k){i[i.length-1].referenceId=this.sliceSerialize(k)}function gn(){O(),i[i.length-1].destination=""}function rn(){O(),w("ignoreEncode",!0)}function fn(){i[i.length-1].destination=d(),w("ignoreEncode")}function hn(){i[i.length-1].title=d()}function Cn(){let k=i.length-1,y=i[k],Z=y.referenceId||y.labelId,X=y.destination===void 0?e[on(Z)]:y;for(t=!0;k--;)if(i[k].image){t=void 0;break}y.image?(E('<img src="'+bn(X.destination,r.allowDangerousProtocol?void 0:he)+'" alt="'),S(y.label),E('"')):E('<a href="'+bn(X.destination,r.allowDangerousProtocol?void 0:St)+'"'),E(X.title?' title="'+X.title+'"':""),y.image?E(" />"):(E(">"),S(y.label),E("</a>")),i.pop()}function Pt(){O(),i.push({})}function Mt(k){d(),i[i.length-1].labelId=this.sliceSerialize(k)}function Dt(){O(),w("ignoreEncode",!0)}function Rt(){i[i.length-1].destination=d(),w("ignoreEncode")}function qt(){i[i.length-1].title=d()}function Ht(){let k=i[i.length-1],y=on(k.labelId);d(),dt.call(e,y)||(e[y]=i[i.length-1]),i.pop()}function jt(){w("slurpAllLineEndings",!0)}function Nt(k){C("headingRank")||(w("headingRank",this.sliceSerialize(k).length),T(),E("<h"+C("headingRank")+">"))}function Vt(){O(),w("slurpAllLineEndings")}function Qt(){w("slurpAllLineEndings",!0)}function Wt(){E("</h"+C("headingRank")+">"),w("headingRank")}function Ut(k){w("headingRank",this.sliceSerialize(k).charCodeAt(0)===61?1:2)}function Zt(){let k=d();T(),E("<h"+C("headingRank")+">"),S(k),E("</h"+C("headingRank")+">"),w("slurpAllLineEndings"),w("headingRank")}function kn(k){S(g(this.sliceSerialize(k)))}function $t(k){if(!C("slurpAllLineEndings")){if(C("slurpOneLineEnding")){w("slurpOneLineEnding");return}if(C("inCodeText")){S(" ");return}S(g(this.sliceSerialize(k)))}}function Yt(k){S(g(this.sliceSerialize(k))),w("flowCodeSeenData",!0)}function rt(){E("<br />")}function Gt(){T(),ut()}function it(){w("ignoreEncode")}function ut(){r.allowDangerousHtml&&w("ignoreEncode",!0)}function Jt(){E("<em>")}function Kt(){E("<strong>")}function Xt(){w("inCodeText",!0),E("<code>")}function vt(){w("inCodeText"),E("</code>")}function ne(){E("</em>")}function te(){E("</strong>")}function ee(){T(),E("<hr />")}function ot(k){w("characterReferenceType",k.type)}function re(k){let y=this.sliceSerialize(k);y=C("characterReferenceType")?ft(y,C("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):In(y),S(g(y)),w("characterReferenceType")}function ie(k){let y=this.sliceSerialize(k);E('<a href="'+bn(y,r.allowDangerousProtocol?void 0:St)+'">'),S(g(y)),E("</a>")}function ue(k){let y=this.sliceSerialize(k);E('<a href="'+bn("mailto:"+y)+'">'),S(g(y)),E("</a>")}}function L(n,r,t,e){let u=e?e-1:Number.POSITIVE_INFINITY,i=0;return o;function o(h){return I(h)?(n.enter(t),a(h)):r(h)}function a(h){return I(h)&&i++<u?(n.consume(h),a):(n.exit(t),r(h))}}var bt={tokenize:xe};function xe(n){let r=n.attempt(this.parser.constructs.contentInitial,e,u),t;return r;function e(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),L(n,r,"linePrefix")}function u(a){return n.enter("paragraph"),i(a)}function i(a){let h=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return b(a)?(n.consume(a),n.exit("chunkText"),i):(n.consume(a),o)}}var Et={tokenize:ge},wt={tokenize:ke};function ge(n){let r=this,t=[],e=0,u,i,o;return a;function a(S){if(e<t.length){let B=t[e];return r.containerState=B[1],n.attempt(B[0].continuation,h,p)(S)}return p(S)}function h(S){if(e++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,u&&E();let B=r.events.length,T=B,g;for(;T--;)if(r.events[T][0]==="exit"&&r.events[T][1].type==="chunkFlow"){g=r.events[T][1].end;break}d(e);let _=B;for(;_<r.events.length;)r.events[_][1].end=Object.assign({},g),_++;return Q(r.events,T+1,0,r.events.slice(B)),r.events.length=_,p(S)}return a(S)}function p(S){if(e===t.length){if(!u)return f(S);if(u.currentConstruct&&u.currentConstruct.concrete)return w(S);r.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return r.containerState={},n.check(wt,m,x)(S)}function m(S){return u&&E(),d(e),f(S)}function x(S){return r.parser.lazy[r.now().line]=e!==t.length,o=r.now().offset,w(S)}function f(S){return r.containerState={},n.attempt(wt,c,w)(S)}function c(S){return e++,t.push([r.currentConstruct,r.containerState]),f(S)}function w(S){if(S===null){u&&E(),d(0),n.consume(S);return}return u=u||r.parser.flow(r.now()),n.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:u}),C(S)}function C(S){if(S===null){O(n.exit("chunkFlow"),!0),d(0),n.consume(S);return}return b(S)?(n.consume(S),O(n.exit("chunkFlow")),e=0,r.interrupt=void 0,a):(n.consume(S),C)}function O(S,B){let T=r.sliceStream(S);if(B&&T.push(null),S.previous=i,i&&(i.next=S),i=S,u.defineSkip(S.start),u.write(T),r.parser.lazy[S.start.line]){let g=u.events.length;for(;g--;)if(u.events[g][1].start.offset<o&&(!u.events[g][1].end||u.events[g][1].end.offset>o))return;let _=r.events.length,R=_,q,W;for(;R--;)if(r.events[R][0]==="exit"&&r.events[R][1].type==="chunkFlow"){if(q){W=r.events[R][1].end;break}q=!0}for(d(e),g=_;g<r.events.length;)r.events[g][1].end=Object.assign({},W),g++;Q(r.events,R+1,0,r.events.slice(_)),r.events.length=g}}function d(S){let B=t.length;for(;B-- >S;){let T=t[B];r.containerState=T[1],T[0].exit.call(r,n)}t.length=S}function E(){u.write([null]),i=void 0,u=void 0,r.containerState._closeFlow=void 0}}function ke(n,r,t){return L(n,n.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Nn(n){if(n===null||D(n)||kt(n))return 1;if(gt(n))return 2}function xn(n,r,t){let e=[],u=-1;for(;++u<n.length;){let i=n[u].resolveAll;i&&!e.includes(i)&&(r=i(r,t),e.push(i))}return r}var wn={name:"attention",tokenize:Se,resolveAll:de};function de(n,r){let t=-1,e,u,i,o,a,h,p,m;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(e=t;e--;)if(n[e][0]==="exit"&&n[e][1].type==="attentionSequence"&&n[e][1]._open&&r.sliceSerialize(n[e][1]).charCodeAt(0)===r.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[e][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[e][1].end.offset-n[e][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;h=n[e][1].end.offset-n[e][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let x=Object.assign({},n[e][1].end),f=Object.assign({},n[t][1].start);yt(x,-h),yt(f,h),o={type:h>1?"strongSequence":"emphasisSequence",start:x,end:Object.assign({},n[e][1].end)},a={type:h>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:f},i={type:h>1?"strongText":"emphasisText",start:Object.assign({},n[e][1].end),end:Object.assign({},n[t][1].start)},u={type:h>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[e][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),p=[],n[e][1].end.offset-n[e][1].start.offset&&(p=H(p,[["enter",n[e][1],r],["exit",n[e][1],r]])),p=H(p,[["enter",u,r],["enter",o,r],["exit",o,r],["enter",i,r]]),p=H(p,xn(r.parser.constructs.insideSpan.null,n.slice(e+1,t),r)),p=H(p,[["exit",i,r],["enter",a,r],["exit",a,r],["exit",u,r]]),n[t][1].end.offset-n[t][1].start.offset?(m=2,p=H(p,[["enter",n[t][1],r],["exit",n[t][1],r]])):m=0,Q(n,e-1,t-e+3,p),t=e+p.length-m-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Se(n,r){let t=this.parser.constructs.attentionMarkers.null,e=this.previous,u=Nn(e),i;return o;function o(h){return i=h,n.enter("attentionSequence"),a(h)}function a(h){if(h===i)return n.consume(h),a;let p=n.exit("attentionSequence"),m=Nn(h),x=!m||m===2&&u||t.includes(h),f=!u||u===2&&m||t.includes(e);return p._open=!!(i===42?x:x&&(u||!f)),p._close=!!(i===42?f:f&&(m||!x)),r(h)}}function yt(n,r){n.column+=r,n.offset+=r,n._bufferIndex+=r}var Vn={name:"autolink",tokenize:be};function be(n,r,t){let e=0;return u;function u(c){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(c){return Y(c)?(n.consume(c),o):p(c)}function o(c){return c===43||c===45||c===46||N(c)?(e=1,a(c)):p(c)}function a(c){return c===58?(n.consume(c),e=0,h):(c===43||c===45||c===46||N(c))&&e++<32?(n.consume(c),a):(e=0,p(c))}function h(c){return c===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):c===null||c===32||c===60||dn(c)?t(c):(n.consume(c),h)}function p(c){return c===64?(n.consume(c),m):ht(c)?(n.consume(c),p):t(c)}function m(c){return N(c)?x(c):t(c)}function x(c){return c===46?(n.consume(c),e=0,m):c===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):f(c)}function f(c){if((c===45||N(c))&&e++<63){let w=c===45?f:x;return n.consume(c),w}return t(c)}}var ln={tokenize:we,partial:!0};function we(n,r,t){return e;function e(i){return I(i)?L(n,u,"linePrefix")(i):u(i)}function u(i){return i===null||b(i)?r(i):t(i)}}var An={name:"blockQuote",tokenize:Ee,continuation:{tokenize:ye},exit:ze};function Ee(n,r,t){let e=this;return u;function u(o){if(o===62){let a=e.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),i}return t(o)}function i(o){return I(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),r):(n.exit("blockQuotePrefix"),r(o))}}function ye(n,r,t){let e=this;return u;function u(o){return I(o)?L(n,i,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return n.attempt(An,r,t)(o)}}function ze(n){n.exit("blockQuote")}var Fn={name:"characterEscape",tokenize:Ce};function Ce(n,r,t){return e;function e(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),u}function u(i){return Hn(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),r):t(i)}}var Tn={name:"characterReference",tokenize:Ie};function Ie(n,r,t){let e=this,u=0,i,o;return a;function a(x){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),h}function h(x){return x===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(x),n.exit("characterReferenceMarkerNumeric"),p):(n.enter("characterReferenceValue"),i=31,o=N,m(x))}function p(x){return x===88||x===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(x),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,o=xt,m):(n.enter("characterReferenceValue"),i=7,o=Sn,m(x))}function m(x){if(x===59&&u){let f=n.exit("characterReferenceValue");return o===N&&!In(e.sliceSerialize(f))?t(x):(n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),n.exit("characterReference"),r)}return o(x)&&u++<i?(n.consume(x),m):t(x)}}var zt={tokenize:Ae,partial:!0},On={name:"codeFenced",tokenize:Le,concrete:!0};function Le(n,r,t){let e=this,u={tokenize:T,partial:!0},i=0,o=0,a;return h;function h(g){return p(g)}function p(g){let _=e.events[e.events.length-1];return i=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=g,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(g)}function m(g){return g===a?(o++,n.consume(g),m):o<3?t(g):(n.exit("codeFencedFenceSequence"),I(g)?L(n,x,"whitespace")(g):x(g))}function x(g){return g===null||b(g)?(n.exit("codeFencedFence"),e.interrupt?r(g):n.check(zt,C,B)(g)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||b(g)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),x(g)):I(g)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),L(n,c,"whitespace")(g)):g===96&&g===a?t(g):(n.consume(g),f)}function c(g){return g===null||b(g)?x(g):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(g))}function w(g){return g===null||b(g)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),x(g)):g===96&&g===a?t(g):(n.consume(g),w)}function C(g){return n.attempt(u,B,O)(g)}function O(g){return n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),d}function d(g){return i>0&&I(g)?L(n,E,"linePrefix",i+1)(g):E(g)}function E(g){return g===null||b(g)?n.check(zt,C,B)(g):(n.enter("codeFlowValue"),S(g))}function S(g){return g===null||b(g)?(n.exit("codeFlowValue"),E(g)):(n.consume(g),S)}function B(g){return n.exit("codeFenced"),r(g)}function T(g,_,R){let q=0;return W;function W(F){return g.enter("lineEnding"),g.consume(F),g.exit("lineEnding"),G}function G(F){return g.enter("codeFencedFence"),I(F)?L(g,P,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):P(F)}function P(F){return F===a?(g.enter("codeFencedFenceSequence"),z(F)):R(F)}function z(F){return F===a?(q++,g.consume(F),z):q>=o?(g.exit("codeFencedFenceSequence"),I(F)?L(g,A,"whitespace")(F):A(F)):R(F)}function A(F){return F===null||b(F)?(g.exit("codeFencedFence"),_(F)):R(F)}}}function Ae(n,r,t){let e=this;return u;function u(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i)}function i(o){return e.parser.lazy[e.now().line]?t(o):r(o)}}var En={name:"codeIndented",tokenize:Te},Fe={tokenize:Oe,partial:!0};function Te(n,r,t){let e=this;return u;function u(p){return n.enter("codeIndented"),L(n,i,"linePrefix",4+1)(p)}function i(p){let m=e.events[e.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(p):t(p)}function o(p){return p===null?h(p):b(p)?n.attempt(Fe,o,h)(p):(n.enter("codeFlowValue"),a(p))}function a(p){return p===null||b(p)?(n.exit("codeFlowValue"),o(p)):(n.consume(p),a)}function h(p){return n.exit("codeIndented"),r(p)}}function Oe(n,r,t){let e=this;return u;function u(o){return e.parser.lazy[e.now().line]?t(o):b(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),u):L(n,i,"linePrefix",4+1)(o)}function i(o){let a=e.events[e.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?r(o):b(o)?u(o):t(o)}}var Qn={name:"codeText",tokenize:Pe,resolve:_e,previous:Be};function _e(n){let r=n.length-4,t=3,e,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[r][1].type==="lineEnding"||n[r][1].type==="space")){for(e=t;++e<r;)if(n[e][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(e=t-1,r++;++e<=r;)u===void 0?e!==r&&n[e][1].type!=="lineEnding"&&(u=e):(e===r||n[e][1].type==="lineEnding")&&(n[u][1].type="codeTextData",e!==u+2&&(n[u][1].end=n[e-1][1].end,n.splice(u+2,e-u-2),r-=e-u-2,e=u+2),u=void 0);return n}function Be(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Pe(n,r,t){let e=this,u=0,i,o;return a;function a(f){return n.enter("codeText"),n.enter("codeTextSequence"),h(f)}function h(f){return f===96?(n.consume(f),u++,h):(n.exit("codeTextSequence"),p(f))}function p(f){return f===null?t(f):f===32?(n.enter("space"),n.consume(f),n.exit("space"),p):f===96?(o=n.enter("codeTextSequence"),i=0,x(f)):b(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),p):(n.enter("codeTextData"),m(f))}function m(f){return f===null||f===32||f===96||b(f)?(n.exit("codeTextData"),p(f)):(n.consume(f),m)}function x(f){return f===96?(n.consume(f),i++,x):i===u?(n.exit("codeTextSequence"),n.exit("codeText"),r(f)):(o.type="codeTextData",m(f))}}function _n(n){let r={},t=-1,e,u,i,o,a,h,p;for(;++t<n.length;){for(;t in r;)t=r[t];if(e=n[t],t&&e[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(h=e[1]._tokenizer.events,i=0,i<h.length&&h[i][1].type==="lineEndingBlank"&&(i+=2),i<h.length&&h[i][1].type==="content"))for(;++i<h.length&&h[i][1].type!=="content";)h[i][1].type==="chunkText"&&(h[i][1]._isInFirstContentOfListItem=!0,i++);if(e[0]==="enter")e[1].contentType&&(Object.assign(r,Me(n,t)),t=r[t],p=!0);else if(e[1]._container){for(i=t,u=void 0;i--&&(o=n[i],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(u&&(n[u][1].type="lineEndingBlank"),o[1].type="lineEnding",u=i);u&&(e[1].end=Object.assign({},n[u][1].start),a=n.slice(u,t),a.unshift(e),Q(n,u,t-u+1,a))}}return!p}function Me(n,r){let t=n[r][1],e=n[r][2],u=r-1,i=[],o=t._tokenizer||e.parser[t.contentType](t.start),a=o.events,h=[],p={},m,x,f=-1,c=t,w=0,C=0,O=[C];for(;c;){for(;n[++u][1]!==c;);i.push(u),c._tokenizer||(m=e.sliceStream(c),c.next||m.push(null),x&&o.defineSkip(c.start),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),x=c,c=c.next}for(c=t;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(C=f+1,O.push(C),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(o.events=[],c?(c._tokenizer=void 0,c.previous=void 0):O.pop(),f=O.length;f--;){let d=a.slice(O[f],O[f+1]),E=i.pop();h.unshift([E,E+d.length-1]),Q(n,E,2,d)}for(f=-1;++f<h.length;)p[w+h[f][0]]=w+h[f][1],w+=h[f][1]-h[f][0]-1;return p}var Wn={tokenize:qe,resolve:Re},De={tokenize:He,partial:!0};function Re(n){return _n(n),n}function qe(n,r){let t;return e;function e(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(a)}function u(a){return a===null?i(a):b(a)?n.check(De,o,i)(a):(n.consume(a),u)}function i(a){return n.exit("chunkContent"),n.exit("content"),r(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function He(n,r,t){let e=this;return u;function u(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),L(n,i,"linePrefix")}function i(o){if(o===null||b(o))return t(o);let a=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?r(o):n.interrupt(e.parser.constructs.flow,t,r)(o)}}function Bn(n,r,t,e,u,i,o,a,h){let p=h||Number.POSITIVE_INFINITY,m=0;return x;function x(d){return d===60?(n.enter(e),n.enter(u),n.enter(i),n.consume(d),n.exit(i),f):d===null||d===32||d===41||dn(d)?t(d):(n.enter(e),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),C(d))}function f(d){return d===62?(n.enter(i),n.consume(d),n.exit(i),n.exit(u),n.exit(e),r):(n.enter(a),n.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===62?(n.exit("chunkString"),n.exit(a),f(d)):d===null||d===60||b(d)?t(d):(n.consume(d),d===92?w:c)}function w(d){return d===60||d===62||d===92?(n.consume(d),c):c(d)}function C(d){return!m&&(d===null||d===41||D(d))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(e),r(d)):m<p&&d===40?(n.consume(d),m++,C):d===41?(n.consume(d),m--,C):d===null||d===32||d===40||dn(d)?t(d):(n.consume(d),d===92?O:C)}function O(d){return d===40||d===41||d===92?(n.consume(d),C):C(d)}}function Pn(n,r,t,e,u,i){let o=this,a=0,h;return p;function p(c){return n.enter(e),n.enter(u),n.consume(c),n.exit(u),n.enter(i),m}function m(c){return a>999||c===null||c===91||c===93&&!h||c===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(c):c===93?(n.exit(i),n.enter(u),n.consume(c),n.exit(u),n.exit(e),r):b(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),x(c))}function x(c){return c===null||c===91||c===93||b(c)||a++>999?(n.exit("chunkString"),m(c)):(n.consume(c),h||(h=!I(c)),c===92?f:x)}function f(c){return c===91||c===92||c===93?(n.consume(c),a++,x):x(c)}}function Mn(n,r,t,e,u,i){let o;return a;function a(f){return f===34||f===39||f===40?(n.enter(e),n.enter(u),n.consume(f),n.exit(u),o=f===40?41:f,h):t(f)}function h(f){return f===o?(n.enter(u),n.consume(f),n.exit(u),n.exit(e),r):(n.enter(i),p(f))}function p(f){return f===o?(n.exit(i),h(o)):f===null?t(f):b(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),L(n,p,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(f))}function m(f){return f===o||f===null||b(f)?(n.exit("chunkString"),p(f)):(n.consume(f),f===92?x:m)}function x(f){return f===o||f===92?(n.consume(f),m):m(f)}}function sn(n,r){let t;return e;function e(u){return b(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,e):I(u)?L(n,e,t?"linePrefix":"lineSuffix")(u):r(u)}}var Un={name:"definition",tokenize:Ne},je={tokenize:Ve,partial:!0};function Ne(n,r,t){let e=this,u;return i;function i(c){return n.enter("definition"),o(c)}function o(c){return Pn.call(e,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function a(c){return u=on(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),c===58?(n.enter("definitionMarker"),n.consume(c),n.exit("definitionMarker"),h):t(c)}function h(c){return D(c)?sn(n,p)(c):p(c)}function p(c){return Bn(n,m,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function m(c){return n.attempt(je,x,x)(c)}function x(c){return I(c)?L(n,f,"whitespace")(c):f(c)}function f(c){return c===null||b(c)?(n.exit("definition"),e.parser.defined.push(u),r(c)):t(c)}}function Ve(n,r,t){return e;function e(a){return D(a)?sn(n,u)(a):t(a)}function u(a){return Mn(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return I(a)?L(n,o,"whitespace")(a):o(a)}function o(a){return a===null||b(a)?r(a):t(a)}}var Zn={name:"hardBreakEscape",tokenize:Qe};function Qe(n,r,t){return e;function e(i){return n.enter("hardBreakEscape"),n.consume(i),u}function u(i){return b(i)?(n.exit("hardBreakEscape"),r(i)):t(i)}}var $n={name:"headingAtx",tokenize:Ue,resolve:We};function We(n,r){let t=n.length-2,e=3,u,i;return n[e][1].type==="whitespace"&&(e+=2),t-2>e&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(e===t-1||t-4>e&&n[t-2][1].type==="whitespace")&&(t-=e+1===t?2:4),t>e&&(u={type:"atxHeadingText",start:n[e][1].start,end:n[t][1].end},i={type:"chunkText",start:n[e][1].start,end:n[t][1].end,contentType:"text"},Q(n,e,t-e+1,[["enter",u,r],["enter",i,r],["exit",i,r],["exit",u,r]])),n}function Ue(n,r,t){let e=0;return u;function u(m){return n.enter("atxHeading"),i(m)}function i(m){return n.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&e++<6?(n.consume(m),o):m===null||D(m)?(n.exit("atxHeadingSequence"),a(m)):t(m)}function a(m){return m===35?(n.enter("atxHeadingSequence"),h(m)):m===null||b(m)?(n.exit("atxHeading"),r(m)):I(m)?L(n,a,"whitespace")(m):(n.enter("atxHeadingText"),p(m))}function h(m){return m===35?(n.consume(m),h):(n.exit("atxHeadingSequence"),a(m))}function p(m){return m===null||m===35||D(m)?(n.exit("atxHeadingText"),a(m)):(n.consume(m),p)}}var Ct=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yn=["pre","script","style","textarea"];var Gn={name:"htmlFlow",tokenize:Ge,resolveTo:Ye,concrete:!0},Ze={tokenize:Ke,partial:!0},$e={tokenize:Je,partial:!0};function Ye(n){let r=n.length;for(;r--&&!(n[r][0]==="enter"&&n[r][1].type==="htmlFlow"););return r>1&&n[r-2][1].type==="linePrefix"&&(n[r][1].start=n[r-2][1].start,n[r+1][1].start=n[r-2][1].start,n.splice(r-2,2)),n}function Ge(n,r,t){let e=this,u,i,o,a,h;return p;function p(s){return m(s)}function m(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),x}function x(s){return s===33?(n.consume(s),f):s===47?(n.consume(s),i=!0,C):s===63?(n.consume(s),u=3,e.interrupt?r:l):Y(s)?(n.consume(s),o=String.fromCharCode(s),O):t(s)}function f(s){return s===45?(n.consume(s),u=2,c):s===91?(n.consume(s),u=5,a=0,w):Y(s)?(n.consume(s),u=4,e.interrupt?r:l):t(s)}function c(s){return s===45?(n.consume(s),e.interrupt?r:l):t(s)}function w(s){let $="CDATA[";return s===$.charCodeAt(a++)?(n.consume(s),a===$.length?e.interrupt?r:P:w):t(s)}function C(s){return Y(s)?(n.consume(s),o=String.fromCharCode(s),O):t(s)}function O(s){if(s===null||s===47||s===62||D(s)){let $=s===47,pn=o.toLowerCase();return!$&&!i&&Yn.includes(pn)?(u=1,e.interrupt?r(s):P(s)):Ct.includes(o.toLowerCase())?(u=6,$?(n.consume(s),d):e.interrupt?r(s):P(s)):(u=7,e.interrupt&&!e.parser.lazy[e.now().line]?t(s):i?E(s):S(s))}return s===45||N(s)?(n.consume(s),o+=String.fromCharCode(s),O):t(s)}function d(s){return s===62?(n.consume(s),e.interrupt?r:P):t(s)}function E(s){return I(s)?(n.consume(s),E):W(s)}function S(s){return s===47?(n.consume(s),W):s===58||s===95||Y(s)?(n.consume(s),B):I(s)?(n.consume(s),S):W(s)}function B(s){return s===45||s===46||s===58||s===95||N(s)?(n.consume(s),B):T(s)}function T(s){return s===61?(n.consume(s),g):I(s)?(n.consume(s),T):S(s)}function g(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),h=s,_):I(s)?(n.consume(s),g):R(s)}function _(s){return s===h?(n.consume(s),h=null,q):s===null||b(s)?t(s):(n.consume(s),_)}function R(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||D(s)?T(s):(n.consume(s),R)}function q(s){return s===47||s===62||I(s)?S(s):t(s)}function W(s){return s===62?(n.consume(s),G):t(s)}function G(s){return s===null||b(s)?P(s):I(s)?(n.consume(s),G):t(s)}function P(s){return s===45&&u===2?(n.consume(s),M):s===60&&u===1?(n.consume(s),j):s===62&&u===4?(n.consume(s),J):s===63&&u===3?(n.consume(s),l):s===93&&u===5?(n.consume(s),v):b(s)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(Ze,en,z)(s)):s===null||b(s)?(n.exit("htmlFlowData"),z(s)):(n.consume(s),P)}function z(s){return n.check($e,A,en)(s)}function A(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),F}function F(s){return s===null||b(s)?z(s):(n.enter("htmlFlowData"),P(s))}function M(s){return s===45?(n.consume(s),l):P(s)}function j(s){return s===47?(n.consume(s),o="",K):P(s)}function K(s){if(s===62){let $=o.toLowerCase();return Yn.includes($)?(n.consume(s),J):P(s)}return Y(s)&&o.length<8?(n.consume(s),o+=String.fromCharCode(s),K):P(s)}function v(s){return s===93?(n.consume(s),l):P(s)}function l(s){return s===62?(n.consume(s),J):s===45&&u===2?(n.consume(s),l):P(s)}function J(s){return s===null||b(s)?(n.exit("htmlFlowData"),en(s)):(n.consume(s),J)}function en(s){return n.exit("htmlFlow"),r(s)}}function Je(n,r,t){let e=this;return u;function u(o){return b(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):t(o)}function i(o){return e.parser.lazy[e.now().line]?t(o):r(o)}}function Ke(n,r,t){return e;function e(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(ln,r,t)}}var Jn={name:"htmlText",tokenize:Xe};function Xe(n,r,t){let e=this,u,i,o;return a;function a(l){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(l),h}function h(l){return l===33?(n.consume(l),p):l===47?(n.consume(l),T):l===63?(n.consume(l),S):Y(l)?(n.consume(l),R):t(l)}function p(l){return l===45?(n.consume(l),m):l===91?(n.consume(l),i=0,w):Y(l)?(n.consume(l),E):t(l)}function m(l){return l===45?(n.consume(l),c):t(l)}function x(l){return l===null?t(l):l===45?(n.consume(l),f):b(l)?(o=x,j(l)):(n.consume(l),x)}function f(l){return l===45?(n.consume(l),c):x(l)}function c(l){return l===62?M(l):l===45?f(l):x(l)}function w(l){let J="CDATA[";return l===J.charCodeAt(i++)?(n.consume(l),i===J.length?C:w):t(l)}function C(l){return l===null?t(l):l===93?(n.consume(l),O):b(l)?(o=C,j(l)):(n.consume(l),C)}function O(l){return l===93?(n.consume(l),d):C(l)}function d(l){return l===62?M(l):l===93?(n.consume(l),d):C(l)}function E(l){return l===null||l===62?M(l):b(l)?(o=E,j(l)):(n.consume(l),E)}function S(l){return l===null?t(l):l===63?(n.consume(l),B):b(l)?(o=S,j(l)):(n.consume(l),S)}function B(l){return l===62?M(l):S(l)}function T(l){return Y(l)?(n.consume(l),g):t(l)}function g(l){return l===45||N(l)?(n.consume(l),g):_(l)}function _(l){return b(l)?(o=_,j(l)):I(l)?(n.consume(l),_):M(l)}function R(l){return l===45||N(l)?(n.consume(l),R):l===47||l===62||D(l)?q(l):t(l)}function q(l){return l===47?(n.consume(l),M):l===58||l===95||Y(l)?(n.consume(l),W):b(l)?(o=q,j(l)):I(l)?(n.consume(l),q):M(l)}function W(l){return l===45||l===46||l===58||l===95||N(l)?(n.consume(l),W):G(l)}function G(l){return l===61?(n.consume(l),P):b(l)?(o=G,j(l)):I(l)?(n.consume(l),G):q(l)}function P(l){return l===null||l===60||l===61||l===62||l===96?t(l):l===34||l===39?(n.consume(l),u=l,z):b(l)?(o=P,j(l)):I(l)?(n.consume(l),P):(n.consume(l),A)}function z(l){return l===u?(n.consume(l),u=void 0,F):l===null?t(l):b(l)?(o=z,j(l)):(n.consume(l),z)}function A(l){return l===null||l===34||l===39||l===60||l===61||l===96?t(l):l===47||l===62||D(l)?q(l):(n.consume(l),A)}function F(l){return l===47||l===62||D(l)?q(l):t(l)}function M(l){return l===62?(n.consume(l),n.exit("htmlTextData"),n.exit("htmlText"),r):t(l)}function j(l){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),K}function K(l){return I(l)?L(n,v,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):v(l)}function v(l){return n.enter("htmlTextData"),o(l)}}var cn={name:"labelEnd",tokenize:ir,resolveTo:rr,resolveAll:er},ve={tokenize:ur},nr={tokenize:or},tr={tokenize:ar};function er(n){let r=-1;for(;++r<n.length;){let t=n[r][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(r+1,t.type==="labelImage"?4:2),t.type="data",r++)}return n}function rr(n,r){let t=n.length,e=0,u,i,o,a;for(;t--;)if(u=n[t][1],i){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(i=t,u.type!=="labelLink")){e=2;break}}else u.type==="labelEnd"&&(o=t);let h={type:n[i][1].type==="labelLink"?"link":"image",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)},p={type:"label",start:Object.assign({},n[i][1].start),end:Object.assign({},n[o][1].end)},m={type:"labelText",start:Object.assign({},n[i+e+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",h,r],["enter",p,r]],a=H(a,n.slice(i+1,i+e+3)),a=H(a,[["enter",m,r]]),a=H(a,xn(r.parser.constructs.insideSpan.null,n.slice(i+e+4,o-3),r)),a=H(a,[["exit",m,r],n[o-2],n[o-1],["exit",p,r]]),a=H(a,n.slice(o+1)),a=H(a,[["exit",h,r]]),Q(n,i,n.length,a),n}function ir(n,r,t){let e=this,u=e.events.length,i,o;for(;u--;)if((e.events[u][1].type==="labelImage"||e.events[u][1].type==="labelLink")&&!e.events[u][1]._balanced){i=e.events[u][1];break}return a;function a(f){return i?i._inactive?x(f):(o=e.parser.defined.includes(on(e.sliceSerialize({start:i.end,end:e.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelEnd"),h):t(f)}function h(f){return f===40?n.attempt(ve,m,o?m:x)(f):f===91?n.attempt(nr,m,o?p:x)(f):o?m(f):x(f)}function p(f){return n.attempt(tr,m,x)(f)}function m(f){return r(f)}function x(f){return i._balanced=!0,t(f)}}function ur(n,r,t){return e;function e(x){return n.enter("resource"),n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),u}function u(x){return D(x)?sn(n,i)(x):i(x)}function i(x){return x===41?m(x):Bn(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function o(x){return D(x)?sn(n,h)(x):m(x)}function a(x){return t(x)}function h(x){return x===34||x===39||x===40?Mn(n,p,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):m(x)}function p(x){return D(x)?sn(n,m)(x):m(x)}function m(x){return x===41?(n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),n.exit("resource"),r):t(x)}}function or(n,r,t){let e=this;return u;function u(a){return Pn.call(e,n,i,o,"reference","referenceMarker","referenceString")(a)}function i(a){return e.parser.defined.includes(on(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?r(a):t(a)}function o(a){return t(a)}}function ar(n,r,t){return e;function e(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),u}function u(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),r):t(i)}}var Kn={name:"labelStartImage",tokenize:lr,resolveAll:cn.resolveAll};function lr(n,r,t){let e=this;return u;function u(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),i}function i(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(a):r(a)}}var Xn={name:"labelStartLink",tokenize:sr,resolveAll:cn.resolveAll};function sr(n,r,t){let e=this;return u;function u(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(o):r(o)}}var yn={name:"lineEnding",tokenize:cr};function cr(n,r){return t;function t(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),L(n,r,"linePrefix")}}var mn={name:"thematicBreak",tokenize:mr};function mr(n,r,t){let e=0,u;return i;function i(p){return n.enter("thematicBreak"),o(p)}function o(p){return u=p,a(p)}function a(p){return p===u?(n.enter("thematicBreakSequence"),h(p)):e>=3&&(p===null||b(p))?(n.exit("thematicBreak"),r(p)):t(p)}function h(p){return p===u?(n.consume(p),e++,h):(n.exit("thematicBreakSequence"),I(p)?L(n,a,"whitespace")(p):a(p))}}var U={name:"list",tokenize:hr,continuation:{tokenize:xr},exit:kr},pr={tokenize:dr,partial:!0},fr={tokenize:gr,partial:!0};function hr(n,r,t){let e=this,u=e.events[e.events.length-1],i=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,o=0;return a;function a(c){let w=e.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!e.containerState.marker||c===e.containerState.marker:Sn(c)){if(e.containerState.type||(e.containerState.type=w,n.enter(w,{_container:!0})),w==="listUnordered")return n.enter("listItemPrefix"),c===42||c===45?n.check(mn,t,p)(c):p(c);if(!e.interrupt||c===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),h(c)}return t(c)}function h(c){return Sn(c)&&++o<10?(n.consume(c),h):(!e.interrupt||o<2)&&(e.containerState.marker?c===e.containerState.marker:c===41||c===46)?(n.exit("listItemValue"),p(c)):t(c)}function p(c){return n.enter("listItemMarker"),n.consume(c),n.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||c,n.check(ln,e.interrupt?t:m,n.attempt(pr,f,x))}function m(c){return e.containerState.initialBlankLine=!0,i++,f(c)}function x(c){return I(c)?(n.enter("listItemPrefixWhitespace"),n.consume(c),n.exit("listItemPrefixWhitespace"),f):t(c)}function f(c){return e.containerState.size=i+e.sliceSerialize(n.exit("listItemPrefix"),!0).length,r(c)}}function xr(n,r,t){let e=this;return e.containerState._closeFlow=void 0,n.check(ln,u,i);function u(a){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,L(n,r,"listItemIndent",e.containerState.size+1)(a)}function i(a){return e.containerState.furtherBlankLines||!I(a)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,o(a)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,n.attempt(fr,r,o)(a))}function o(a){return e.containerState._closeFlow=!0,e.interrupt=void 0,L(n,n.attempt(U,r,t),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function gr(n,r,t){let e=this;return L(n,u,"listItemIndent",e.containerState.size+1);function u(i){let o=e.events[e.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===e.containerState.size?r(i):t(i)}}function kr(n){n.exit(this.containerState.type)}function dr(n,r,t){let e=this;return L(n,u,"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function u(i){let o=e.events[e.events.length-1];return!I(i)&&o&&o[1].type==="listItemPrefixWhitespace"?r(i):t(i)}}var Dn={name:"setextUnderline",tokenize:br,resolveTo:Sr};function Sr(n,r){let t=n.length,e,u,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){e=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);let o={type:"setextHeading",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[u][1].type="setextHeadingText",i?(n.splice(u,0,["enter",o,r]),n.splice(i+1,0,["exit",n[e][1],r]),n[e][1].end=Object.assign({},n[i][1].end)):n[e][1]=o,n.push(["exit",o,r]),n}function br(n,r,t){let e=this,u;return i;function i(p){let m=e.events.length,x;for(;m--;)if(e.events[m][1].type!=="lineEnding"&&e.events[m][1].type!=="linePrefix"&&e.events[m][1].type!=="content"){x=e.events[m][1].type==="paragraph";break}return!e.parser.lazy[e.now().line]&&(e.interrupt||x)?(n.enter("setextHeadingLine"),u=p,o(p)):t(p)}function o(p){return n.enter("setextHeadingLineSequence"),a(p)}function a(p){return p===u?(n.consume(p),a):(n.exit("setextHeadingLineSequence"),I(p)?L(n,h,"lineSuffix")(p):h(p))}function h(p){return p===null||b(p)?(n.exit("setextHeadingLine"),r(p)):t(p)}}var It={tokenize:wr};function wr(n){let r=this,t=n.attempt(ln,e,n.attempt(this.parser.constructs.flowInitial,u,L(n,n.attempt(this.parser.constructs.flow,u,n.attempt(Wn,u)),"linePrefix")));return t;function e(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function u(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),r.currentConstruct=void 0,t}}var Lt={resolveAll:Ot()},At=Tt("string"),Ft=Tt("text");function Tt(n){return{tokenize:r,resolveAll:Ot(n==="text"?Er:void 0)};function r(t){let e=this,u=this.parser.constructs[n],i=t.attempt(u,o,a);return o;function o(m){return p(m)?i(m):a(m)}function a(m){if(m===null){t.consume(m);return}return t.enter("data"),t.consume(m),h}function h(m){return p(m)?(t.exit("data"),i(m)):(t.consume(m),h)}function p(m){if(m===null)return!0;let x=u[m],f=-1;if(x)for(;++f<x.length;){let c=x[f];if(!c.previous||c.previous.call(e,e.previous))return!0}return!1}}}function Ot(n){return r;function r(t,e){let u=-1,i;for(;++u<=t.length;)i===void 0?t[u]&&t[u][1].type==="data"&&(i=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==i+2&&(t[i][1].end=t[u-1][1].end,t.splice(i+2,u-i-2),u=i+2),i=void 0);return n?n(t,e):t}}function Er(n,r){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let e=n[t-1][1],u=r.sliceStream(e),i=u.length,o=-1,a=0,h;for(;i--;){let p=u[i];if(typeof p=="string"){for(o=p.length;p.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(p===-2)h=!0,a++;else if(p!==-1){i++;break}}if(a){let p={type:t===n.length||h||a<2?"lineSuffix":"hardBreakTrailing",start:{line:e.end.line,column:e.end.column-a,offset:e.end.offset-a,_index:e.start._index+i,_bufferIndex:i?o:e.start._bufferIndex+o},end:Object.assign({},e.end)};e.end=Object.assign({},p.start),e.start.offset===e.end.offset?Object.assign(e,p):(n.splice(t,0,["enter",p,r],["exit",p,r]),t+=2)}t++}return n}function _t(n,r,t){let e=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),u={},i=[],o=[],a=[],h=!0,p={consume:B,enter:T,exit:g,attempt:q(_),check:q(R),interrupt:q(R,{interrupt:!0})},m={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:C,sliceSerialize:w,now:O,defineSkip:d,write:c},x=r.tokenize.call(m,p),f;return r.resolveAll&&i.push(r),m;function c(z){return o=H(o,z),E(),o[o.length-1]!==null?[]:(W(r,0),m.events=xn(i,m.events,m),m.events)}function w(z,A){return zr(C(z),A)}function C(z){return yr(o,z)}function O(){let{line:z,column:A,offset:F,_index:M,_bufferIndex:j}=e;return{line:z,column:A,offset:F,_index:M,_bufferIndex:j}}function d(z){u[z.line]=z.column,P()}function E(){let z;for(;e._index<o.length;){let A=o[e._index];if(typeof A=="string")for(z=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===z&&e._bufferIndex<A.length;)S(A.charCodeAt(e._bufferIndex));else S(A)}}function S(z){h=void 0,f=z,x=x(z)}function B(z){b(z)?(e.line++,e.column=1,e.offset+=z===-3?2:1,P()):z!==-1&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===o[e._index].length&&(e._bufferIndex=-1,e._index++)),m.previous=z,h=!0}function T(z,A){let F=A||{};return F.type=z,F.start=O(),m.events.push(["enter",F,m]),a.push(F),F}function g(z){let A=a.pop();return A.end=O(),m.events.push(["exit",A,m]),A}function _(z,A){W(z,A.from)}function R(z,A){A.restore()}function q(z,A){return F;function F(M,j,K){let v,l,J,en;return Array.isArray(M)?$(M):"tokenize"in M?$([M]):s(M);function s(V){return gn;function gn(rn){let fn=rn!==null&&V[rn],hn=rn!==null&&V.null,Cn=[...Array.isArray(fn)?fn:fn?[fn]:[],...Array.isArray(hn)?hn:hn?[hn]:[]];return $(Cn)(rn)}}function $(V){return v=V,l=0,V.length===0?K:pn(V[l])}function pn(V){return gn;function gn(rn){return en=G(),J=V,V.partial||(m.currentConstruct=V),V.name&&m.parser.constructs.disable.null.includes(V.name)?zn(rn):V.tokenize.call(A?Object.assign(Object.create(m),A):m,p,Rn,zn)(rn)}}function Rn(V){return h=!0,z(J,en),j}function zn(V){return h=!0,en.restore(),++l<v.length?pn(v[l]):K}}}function W(z,A){z.resolveAll&&!i.includes(z)&&i.push(z),z.resolve&&Q(m.events,A,m.events.length-A,z.resolve(m.events.slice(A),m)),z.resolveTo&&(m.events=z.resolveTo(m.events,m))}function G(){let z=O(),A=m.previous,F=m.currentConstruct,M=m.events.length,j=Array.from(a);return{restore:K,from:M};function K(){e=z,m.previous=A,m.currentConstruct=F,m.events.length=M,a=j,P()}}function P(){e.line in u&&e.column<2&&(e.column=u[e.line],e.offset+=u[e.line]-1)}}function yr(n,r){let t=r.start._index,e=r.start._bufferIndex,u=r.end._index,i=r.end._bufferIndex,o;if(t===u)o=[n[t].slice(e,i)];else{if(o=n.slice(t,u),e>-1){let a=o[0];typeof a=="string"?o[0]=a.slice(e):o.shift()}i>0&&o.push(n[u].slice(0,i))}return o}function zr(n,r){let t=-1,e=[],u;for(;++t<n.length;){let i=n[t],o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=r?" ":"	";break}case-1:{if(!r&&u)continue;o=" ";break}default:o=String.fromCharCode(i)}u=i===-2,e.push(o)}return e.join("")}var vn={};ae(vn,{attentionMarkers:()=>_r,contentInitial:()=>Ir,disable:()=>Br,document:()=>Cr,flow:()=>Ar,flowInitial:()=>Lr,insideSpan:()=>Or,string:()=>Fr,text:()=>Tr});var Cr={42:U,43:U,45:U,48:U,49:U,50:U,51:U,52:U,53:U,54:U,55:U,56:U,57:U,62:An},Ir={91:Un},Lr={[-2]:En,[-1]:En,32:En},Ar={35:$n,42:mn,45:[Dn,mn],60:Gn,61:Dn,95:mn,96:On,126:On},Fr={38:Tn,92:Fn},Tr={[-5]:yn,[-4]:yn,[-3]:yn,33:Kn,38:Tn,42:wn,60:[Vn,Jn],91:Xn,92:[Zn,Fn],93:cn,95:wn,96:Qn},Or={null:[wn,Lt]},_r={null:[42,95]},Br={null:[]};function nt(n){let t=mt([vn,...(n||{}).extensions||[]]),e={defined:[],lazy:{},constructs:t,content:u(bt),document:u(Et),flow:u(It),string:u(At),text:u(Ft)};return e;function u(i){return o;function o(a){return _t(e,i,a)}}}function tt(n){for(;!_n(n););return n}var Bt=/[\0\t\n\r]/g;function et(){let n=1,r="",t=!0,e;return u;function u(i,o,a){let h=[],p,m,x,f,c;for(i=r+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),x=0,r="",t&&(i.charCodeAt(0)===65279&&x++,t=void 0);x<i.length;){if(Bt.lastIndex=x,p=Bt.exec(i),f=p&&p.index!==void 0?p.index:i.length,c=i.charCodeAt(f),!p){r=i.slice(x);break}if(c===10&&x===f&&e)h.push(-3),e=void 0;else switch(e&&(h.push(-5),e=void 0),x<f&&(h.push(i.slice(x,f)),n+=f-x),c){case 0:{h.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,h.push(-2);n++<m;)h.push(-1);break}case 10:{h.push(-4),n=1;break}default:e=!0,n=1}x=f+1}return a&&(e&&h.push(-5),r&&h.push(r),h.push(null)),h}}function Vo(n,r,t){return typeof r!="string"&&(t=r,r=void 0),jn(t)(tt(nt(t).document().write(et()(n,r,!0))))}export{jn as compile,Vo as micromark,nt as parse,tt as postprocess,et as preprocess};
//# sourceMappingURL=micromark.bundle.mjs.map